<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "it" }}">
<head>
    <meta charset="utf-8">
    <title>{{ block "title" . }}{{ with .Params.Title }}{{ . }} - {{ end }}{{ .Site.Title }}{{ end }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{if .IsPage}}{{ .Summary }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}{{ end }}">    
    {{ hugo.Generator }}

    <link rel="apple-touch-icon" sizes="180x180" href={{ "/asset/icon/apple-touch-icon.png" | relURL }} >
    <link rel="icon" type="image/png" sizes="32x32" href={{ "/asset/icon/favicon-32x32.png" | relURL }} >
    <link rel="icon" type="image/png" sizes="16x16" href={{ "/asset/icon/favicon-16x16.png" | relURL }} >
    <link rel="manifest" href={{ "/asset/icon/site.webmanifest" | relURL }} >

    {{ range .AlternativeOutputFormats -}}
    <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
    {{ end -}}

    {{ with resources.Get "/asset/css/tachyons.css" -}}
    {{ $style := . | minify | fingerprint }}
    <link rel="stylesheet" href={{ $style.RelPermalink }}>
    {{ end -}}
    {{- block "head_addon" . }}{{ end -}}

    {{ with resources.Get "/asset/fa/js/all.js" -}}
    {{ $js := . | js.Build (dict "minify" true) | fingerprint }}
    <script defer src={{ $js.RelPermalink }}></script>
    {{ end -}}

    {{ template "_internal/opengraph.html" . -}}
    {{ template "_internal/schema.html" . -}}
    {{ template "_internal/twitter_cards.html" . -}}
    {{ if hugo.IsProduction }}
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="preconnect" href="https://tpc.googlesyndication.com">
    <link rel="preconnect" href="https://pagead2.googlesyndication.com">
    {{ partial "gtag.html" . }}
    {{ partial "cookie.html" . }}
    {{ partial "hotjar.html" . }}
    <script data-ad-client="ca-pub-8950289255447363" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    {{ end }}
</head>
<body class="w100 sans-serif bg-white black-80">
    {{ block "header" . }}{{ partial "header-full.html" .}}{{ end }}

    <main class="pb3">
    {{ block "main" . }}{{ end }}
    </main>

    {{ block "footer" . }}{{ partial "footer.html" . }}{{ end }}
    {{ block "footer_scripts" . }}{{ end }}
</body>
</html>